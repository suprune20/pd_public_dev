<div ng-show="userPlacesProvider.getSelectedPlaceGeoObject()" class="edit-modal-cont" isolate-scrolling>
  <form role="form" name="placeAddForm" novalidate>
    <div class="form-group has-feedback"
         ng-class="{'has-error': placeAddForm.orgPlaceName.$dirty && placeAddForm.orgPlaceName.$invalid}">
      <label for="orgPlaceName">Название</label>
      <input class="form-control" id="orgPlaceName" placeholder="Введите название" required
             name="userPlaceName"
             ng-model="userPlacesProvider.getSelectedPlaceGeoObject().properties.placeData.name">
        <span class="glyphicon glyphicon-remove form-control-feedback"
              ng-show="placeAddForm.orgPlaceName.$dirty && placeAddForm.orgPlaceName.$invalid"></span>
    </div>
    <div class="form-group">
      <label for="userPlaceAddress">Адрес</label>
      <textarea class="form-control" id="userPlaceAddress" readonly
                ng-model="userPlacesProvider.getSelectedPlaceGeoObject().properties.placeData.address"></textarea>
    </div>

    <div class="form-group inner-forms-cont">
      <label>Список усопших</label>

      <div ng-repeat="deceased in userPlacesProvider.getSelectedPlaceGeoObject().properties.placeData.deceased"
           class="inner-form">
        <div class="form-group">
          <label for="deceasedFullname{{$index}}">ФИО усопшего</label>
          <input class="form-control" id="deceasedFullname{{$index}}" ng-model="deceased.fullname" required />
        </div>
        <div class="form-group">
          <label for="deceasedDob{{$index}}">Дата рождения</label>
          <input type="text" class="form-control" id="deceasedDob{{$index}}" ng-model="deceased.dob" bs-datepicker
                 autoclose="true" container="body" />
        </div>
        <div class="form-group">
          <label for="deceasedDod{{$index}}">Дата смерти</label>
          <input type="text" class="form-control" id="deceasedDod{{$index}}" ng-model="deceased.dod" bs-datepicker
                 autoclose="true" container="body" />
        </div>

        <div class="text-right">
          <button class="btn btn-danger btn-xs" ng-click="userPlacesProvider.removeDeceased(deceased)">
            <i class="glyphicon glyphicon-trash"></i>
          </button>
        </div>
      </div>

      <div class="clearfix"></div>
      <button class="btn btn-default btn-xs" ng-click="userPlacesProvider.addDeceased()">Добавить усопшего</button>
    </div>

    <button type="submit" class="btn btn-success" ng-disabled="placeAddForm.$invalid"
            ng-click="userPlacesProvider.addNewPlaceFromSelected()">Добавить</button>
    <button class="btn btn-default" ng-click="userPlacesProvider.cancelEdit()">Отмена</button>
  </form>
</div>